<script>

  /**
   * Tracking behaviour
   * Handling tracking for the listing page
   */

  var productListUtilities = productListUtilities || {};

  productListUtilities.productListTrackingBehavior = {

    // event listeners
    listeners: {
      pagination: '_trackEventPagination'
    },

    _trackEventPagination: e => {
      function _sendTrackingData() {
        // Your beacon logic goes here
        console.log('Tracking:', 'pagination', e.detail);
      };
      /**
       * This is just a simple solution
       * Read Paul Lewis's artcile about how to use rIC for analytics
       * https://goo.gl/tnWyA0
       */
      if ('requestIdleCallback' in window) {
        requestIdleCallback(_sendTrackingData);
      } else {
        _sendTrackingData();
      }
    }

  };

</script>
